# Refactor Code

既存コードのリファクタリングを安全に実行します。

## 使用法
```
/refactor-code [target_file_or_component] [refactor_goal]
```

## プロンプト
以下のリファクタリングを実行してください：

**対象**: ${ARGUMENTS}

### リファクタリング手順

#### 1. 現状分析
- 対象コードの現在の構造を理解
- 既存のテストカバレッジを確認
- 依存関係とインポートを調査
- パフォーマンス・保守性の問題を特定

#### 2. 安全性確保
- 既存テストが全て通ることを確認
- 必要に応じて追加テストを作成
- リファクタリング前の動作を記録
- バックアップ戦略を確認

#### 3. 計画立案
- TodoWriteでリファクタリング計画を作成
- 小さな段階に分解
- 各段階での検証方法を定義
- ロールバック戦略を準備

#### 4. 実装
- 最小限の変更から開始
- 各変更後にテスト実行
- 既存の動作を保持
- コード品質の向上を確認

#### 5. 検証
- 全テストの実行
- lint/typecheckの実行
- パフォーマンステスト（該当する場合）
- 既存機能の動作確認

#### 6. クリーンアップ
- 不要なコメント・インポートの削除
- コード規約への準拠確認
- ドキュメントの更新（必要に応じて）

リファクタリングの各段階でTodoWriteを使用して進捗を管理してください。